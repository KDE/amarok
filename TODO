TODO-list for Amarok
======================
<nick>  == reported by
-->nick == assigned to


SHORT-TERM (URGENT):
 <sebr>    When using "Copy files to collection" in the filebrowser, tags wont get recognised from
           urls which are organised from media:/ locations.

 <jeff>    When playing a stream from e.g. Ampache, even if an Artist is detected, Wikipedia
           will pull up "Artist - Song" instead of just Artist.

 <sebr>    PlaylistBrowser::slotDoubleClicked() and PlaylistBrowser::addSelectedToPlaylist()
           should be merged for better code reusage. They are practically the same.

 <markey>  I just deleted a tag by accident: Clicked on a file in the playlist, pressed
           delete to remove the track from the playlist. I had not noticed that it
           went into edit mode, though. So I clicked somewhere else, and BAM, the new
           empty tag was written. My tag was gone :S IMHO we should require confirmation
           before writing, e.g. only write the tag after pressing enter.

 <markey>  When you start a lastfm stream, the old metadata from the last stream is 
           shown before the new stream starts. Doesn't look nice.

<shanachie> update podcast-tuples when the feed get's corrected after a mistake by the podcaster/publisher. eg. pubdate, url, title.

 <sebr>    We need to check for pkg-config when configuring, otherwise we can't check for things
           like libgpod. Currently its a silent error, and its very difficult to debug without
           trawling through configure.in.in

 <sebr>    Don't reload media device plugins when saving config settings. Its annoying, slow
           and all around unnecessary.  It also crashes if the device is connected/loaded.
           <aumuell> Cannot reproduce anything of this with ipods - i think i fixed that already.

 <markey>  After doing "Delete downloaded podcast", the icon still indicates downloaded.

 <sebr>    LastFm:
             - determine how hard it would be to tag songs
 <eean>      - display history in the playlist somehow  <markey> I'm against this.
               -subitems?
               -just disabled?
             - 'stop after current track' should work

 <sebr>    Adding an m3u with non existant items has filesize = 16,777,216.0 TB!

 <illiss.> Loading normal (M3U) playlists from the playlist browser doesn't block the UI per se,
           but it does nothing for really long time, until suddenly the whole playlist shows up,
           which is strange and confusing.

 <markey>  Add DCOP functions for showing dialogs, similar to kdialog.

 <sebr>    More consistent playlistbrowser drag and drop actions; No dropping of default streams, set
           e->accept( false ) if dropping one type onto another.

 <sebr>    Use KIO queues for podcast download queues.  Should simplify the lot.  Problems atm included
           selecting multiple downloads individually, and automatic downloads occuring for more that one
           podcast item.
 <eean>    Currently custom dynamic playlist selection is simply based on the titles. So its less then
           ideal. Via some method, each playlist should be assigned iteratively a number paired with its
           type.. Dynamic playlists and static playlists should probably have seperate numbering so
           that the "next" number can be determined by looking at one XML file.
           Remembering which PartyEntry was used on close should be remembered with the same method.

  <markey> Consider moving the GHNS provider list to a different server than amarok.kde.org,
           possibly download.kde.org or similar. (When our site is down, the GHNS feature fails
           to work entirely)

  <markey> Amarok fails to download any stream playlist from http://dir.xiph.org. Part of the problem is
           PlaylistLoader::isPlaylistFile(const KURL&), which only looks at the filename's extension. This
           fails for URLs like http://dir.xiph.org/listen.php?pid=669641&file=listen.m3u, because the filename
           is "listen.php". So it must look at the whole url instead.
  <mxcl>   Just before we load any engine plugin, write to a file, and it we don't succeed the next time
           Amarok starts show a big warning saying "Gah!" and load a different one.

 <shakes>  The scrobbler code should report some sort of error message rather than just saying that the
           submit failed. That way when last.fm goes down we wouldn't get so many people asking why they
           can't submit. It'd also be nice to be able to tell people they've got their password wrong.

<jefferai> When hovering the mouse over the Repeat/Random icons in the bottom taskbar, the popups that appear
           not only have inconsistent icons with the ones shown in the taskbar, but they're pixellated and ugly
           as sin.  Should probably be redone as SVGs.

<jefferai> Xine proxy value is not saved across sessions.  Problem exists in Xine-UI as well, at least for me.
           Maybe an upstream bug and nothing we can fix.

MID-TERM:
 <eean>    Implement a "Find My Music" button in the first-run wizard. Just a basic
           thing that will look at file extensions and try to figure out where the users
           music is located. Ignore /opt/, /usr etc. to avoid adding sound effects. Prompt
           user with the directories at the end of the scan, allowing them to exclude some.

  <eean>   Implement leinir's mockup:
           www.leinir.dk/temp/gallery/?image=pictures/amarok-playlist-bar-dynamic-mode.png
          <leinir> The idea with the look of the top is, as you can probably see from the colours
            otherwise present, that it's the active window titlebar/colour/font, with the name of the
            playlist being un-bolded (if the window title is bold)...
          <leinir> eean: Some people will identify the active window by titlebar colour alone :)

  <mp8> Album covers as icons from filebrowser.

  <mxcl>   Should be able to open collection browser by right clicking on stuff in contextB, so show the
           artist or album that is right clicked.

  <mxcl>   Perhaps a nice idea: when you drag playlistItems to a branch in the collection browser
           it prompts to change the track's tags, so drag a track to the "moolaaa" album and that
           track get's it's album tag changed to "moolaaa" and is inserted into the branch, so the user
           know's what has happened.

  <mxcl>   User asked for a CTRL-J itty-bitty dialog that allows you to jump to a specific part
           of a track. I'll see if I can do it with tiny amount of code -->mxcl

  <muesli> Don't rely on KDE timeouts to see whether a file is accessible or not,
           since this really sucks for disconnected network shares. XMMS handles
           this way better and it really is a problem in userland. maybe a thread
           helps, which simply tries to fopen() the file. if this task hasn't been
           finished in (let's say) 3 seconds, jump to the next song. XMMS even
           remembers such files and their folders, so that it's not going to open
           another file from that folder for the next few minutes. what about hdd
           sleep-timeouts? opinions?

LONG-TERM:


  <markey> Use more accurate interpolation for analyzers (cubic or spline)

           Tabbed playlists.
           Pro: it's convenient to have several playlists
           Contra: the playlist is getting cluttered enough as it is!
           <illissius> I already added a comment wrt this to the b.k.o bug, but here's the idea:
                       switch between playlists with the playlist browser -- that's what it's there for.
                       This avoids the clutter. The way it'd work is the currently playing playlist would
                       have the same fancy fading thing the current track has. The context menu for playlists
                       would have two seperate items, one for showing and one for playing. When just showing,
                       the previous playlist would continue playing while you view/edit the other one.
                       (If you doubleclick a song in the new playlist, it would naturally start playing that
                       one instead). What to do when the user doubleclicks a playlist -- show, play, or both
                       -- is TBD.

           Make windows magnetic / sticking together (difficult).

  <mxcl>   Implement beat detection (thread?), interface should glow/move to
           the beat, visualisations have access to beat/bpm info.

           Audio system info widget, showing all available codecs and similar info.

IDEAS:

           Bookmarks inside of tracks (good for very long tracks), and nifty bookmark browser

           Using filelight (as a kpart maybe) for a graphical representation of the playlist. so
           you could see at first glance how the altogether playing time is divided into different
           albums, tunes and so on.


DO-NOT-IMPLEMENT (stuff that was rejected):

  <markey> Allow removing of playlist items by dragging back into browser.
  <larson> I think this is really weird. When I drag something I expect that someting to be
           ADDed or opened in the target. Not removed from the sender.
           (RFC: is this still appropriate or would it be misleading?)
  <muesli> imho, it's misleading and not hid-compatible. i would rather
           expect that file to be copied to the browser's current directory.

          "Hide playlist when main widget is not active" option (?? comments please: )
  <berkus> Noo, we have it hiding into tray, thats enough (imagine how much flashing will be
           if i drag mouse around with "focus follows mouse" on - this is the one i use all the time)
  <mxcl>   Hence it's an option, you'd not use it with focus follows mouse. But it was just an idea
           anyway.. dunno if I like the sound of it anymore either.


BACKTRACES/DEBUG/VALGRIND:

